<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boka Fönsterputs - Fast pris 250 kr</title>

    <!-- Bootstrap 4 CSS för modern styling -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f9f9f9;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .form-group label {
            font-weight: bold;
        }
        .price-info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2rem;
            color: green;
            font-weight: bold;
        }
        .btn-primary {
            background-color: #28a745;
            border-color: #28a745;
        }
        .btn-primary:hover {
            background-color: #218838;
        }
        /* Loggan */
        .logo {
            display: block;
            margin: 0 auto 20px;
            max-width: 150px;
        }
        /* Bekräftelsemeddelande */
        #confirmation {
            display: none;
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
        }
        .extra-services {
            margin-top: 20px;
        }
        .extra-services label {
            font-weight: bold;
            color: red;
        }
        /* Gör checkboxar snyggare */
        .form-check-input {
            width: 20px;
            height: 20px;
            margin-top: 5px;
        }
    </style>
</head>
<body>


        <h2>Förbokning av fönsterputs hos Putsväck AB</h2>

        <!-- Fast pris information -->
        <div class="price-info">
            Fast pris: 250 kr efter RUT-avdrag för hela huset!
        </div>

        <!-- Bokningsformulär -->
        <form id="myForm">
            <!-- Namn -->
            <div class="form-group">
                <label for="name">Namn & Efternamn:</label>
                <input type="text" id="name" name="name" class="form-control" placeholder="Ditt namn" required>
            </div>

            <!-- Adress -->
            <div class="form-group">
                <label for="address">Adress:</label>
                <input type="text" id="address" name="address" class="form-control" placeholder="Din adress" required>
            </div>

            <!-- Stad -->
            <div class="form-group">
                <label for="city">Stad:</label>
                <input type="text" id="city" name="city" class="form-control" placeholder="Din stad" required>
            </div>

            <!-- Postnummer -->
            <div class="form-group">
                <label for="postcode-modal">Postnummer:</label>
                <input type="text" id="postcode-modal" name="postcode" class="form-control" placeholder="Ditt postnummer" required>
            </div>

            <!-- Personnummer för RUT -->
            <div class="form-group">
                <label for="ssn">Personnummer för RUT-avdraget:</label>
                <input type="text" id="ssn" name="ssn" class="form-control" placeholder="Ditt personnummer" required>
            </div>

            <!-- E-post -->
            <div class="form-group">
                <label for="email">E-post:</label>
                <input type="email" id="email" name="email" class="form-control" placeholder="Din e-post" required>
            </div>

            <!-- Telefon -->
            <div class="form-group">
                <label for="phone">Telefon:</label>
                <input type="tel" id="phone" name="phone" class="form-control" placeholder="Ditt telefonnummer" required>
            </div>
						
						     <!-- Fönstertyp (Dropdown) -->
            <div class="form-group">
                <label for="window-type">Typ av fönster:</label>
                <select id="window-type" name="window-type" class="form-control" required>
                    <option value="" disabled selected>Välj typ av fönster</option>
                    <option value="Normala fönster">Normala fönster</option>
                    <option value="Fasta spröjs">Fasta spröjs</option>
                    <option value="Avtagbara spröjs">Avtagbara spröjs</option>
                </select>
            </div>
						
						<!-- Extra tjänster -->
            <div class="extra-services">
                <label>Extra kostnad för dessa tjänster tillkommer:</label>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="uterum-veranda" name="extra_services" value="Uterum/Veranda">
                    <label for="uterum-veranda" class="form-check-label">Uterum/Veranda</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="ovanvaning" name="extra_services" value="Ovanvåning">
                    <label for="ovanvaning" class="form-check-label">Ovanvåning</label>
                </div>
            </div>

            <!-- Bekräftelseknapp -->
            <div class="form-group text-center">
                <button type="submit" class="btn btn-primary btn-block">Boka nu för 250 kr</button>
            </div>
        </form>

        <!-- Bekräftelsemeddelande -->
        <div id="confirmation">
            <p>Tack för din bokning! Vi kommer och putsar dina fönster inom 1-4 veckor.</p>
        </div>
    </div>

    <!-- EmailJS och jQuery -->
    <script>
        $('#myForm').on('submit', function(event) {
            event.preventDefault(); // Hindra siduppdatering

            // Hämta formulärdata
            var formData = new FormData(this);
            formData.append('service_id', 'service_9gfg81a');  // Ditt Service ID
            formData.append('template_id', 'template_5c722qi');  // Ditt Template ID
            formData.append('user_id', 'sNU4y7tlo5J8WCort');  // Din Public Key

            // Hantera checkboxar för extra tjänster
            var uterumVeranda = $('#uterum-veranda').is(':checked') ? 'Ja' : 'Nej';
            var ovanvaning = $('#ovanvaning').is(':checked') ? 'Ja' : 'Nej';

            // Lägg till extra tjänster i formData
            formData.append('uterum_veranda', uterumVeranda);  // Lägg till värdet för Uterum/Veranda
            formData.append('ovanvaning', ovanvaning);  // Lägg till värdet för Ovanvåning

            // Skicka AJAX-förfrågan till EmailJS
            $.ajax('https://api.emailjs.com/api/v1.0/email/send-form', {
                type: 'POST',
                data: formData,
                contentType: false, // Auto-detection
                processData: false // Ingen behov att omvandla formData till sträng
            }).done(function() {
                // Visa bekräftelsemeddelande
                $('#confirmation').show();
                // Återställ formuläret
                $('#myForm')[0].reset();
            }).fail(function(error) {
                alert('Ett fel uppstod vid bokningen. Försök igen.');
            });
        });
    </script>

    <!-- Bootstrap JS (valfritt) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
